setting up tails (live) is as easy as it gets
same thing with kali live.
the problem starts with persistence
#command
wipefs -a /dev/sdX
sudo fdisk /dev/sdX <<< $(printf "p\nn\np\n\n\n\np\nw") #create a new partition from empty sapce
mkfs.ext4 -L persistence /dev/sdXN
sudo mkdir -pv /mnt/my_usb
sudo mount -v /dev/sdXN /mnt/my_usb
#getting stuck here -> superblock has an invalid journal
#spent 8 hours herew wiping and remaking usb live 
# maybe the problem happens when creating new partition with fdisk, maybe the partition was not properly unmounted

sudo e2fsck -l badsectors.txt /dev/sdXN #to check for bad sectors (dont run when mounted)
echo "/ union" | sudo tee /mnt/my_usb/persistence.conf #make file 
umount -v /dev/sdXN
reboot

day 2 of continuing this
- trying to check for bad sectors
	e2fsck -l badsectors.txt /dev/sda3
getting error: superblock has in invalid journal
		reading_bad_blocks_file: nos such for or directory

- trying to find if that file exist
	find / -name badsectors.txt 2>/dev/null
getting nothing

-trying to build that file
	badblocks -sv /dev/sda3 > badsectors.txt
getting pass completed, 0 bad blocks found

- rechecking with e2fck still gets superblock has an invalid journal

- just remembered when using rufus: set the size for persistence to be 0
- 2 options now: rebuild with 
	sudo dd if=kali-linux-2025.3-live-amd64.iso of=/dev/sdX conv=fsync bs=4M status=progress
	or again on windows


-before that: tried tune2fs -j /dev/sda3 --> block bitmap mismatch
-> sudo e2fsck -fy /dev/sda3 #force repair everything
- still getting the same error: suspect hardware problem
-> sudo badblocks -wsv /dev/sda (this is gonna take a few hours again)

has been more than a day. gonna try one last time with rufus + room for resistence
if it does not work -> another usb


***this is the end result***
1. can erase the usb and remake the live usb  but run extremely slow and get stuck all the time
2. check with e2fsck.ext4, gets mismatch in inode
-> conclusion: fake and bad usb
3. bought new kingston 64gb usb and building now
- umount the sub before erasing it
- sudo dd if=/dev/zero of=/dev/sda bs=4M status=progress
sudo sync
- wget https://github.com/balena-io/etcher/releases/download/v1.22.20/balenaEtcher-1.22.20-x64.AppImage
chmod +x balenaEtcher-1.22.20-x64.AppImage
- ./balenaEtcher-1.22.20-x64.AppImage
- sudo parted /dev/sda --script mkpart primary ext4 8GB 100%
sudo mkfs.ext4 -L persistence /dev/sda2
- sudo mount /dev/sda2 /mnt
echo "/ union" | sudo tee /mnt/persistence.conf
sudo umount /mnt

test usb reliability:
sudo apt install f3
sudo mount /dev/sda2 /mnt
sudo f3write /mnt
sudo f3read /mnt






****try fedora*****
Fedora Workstation: Ideal Setup for Pentesting + Anonymity + Productivity
1. Install Fedora Workstation (not Silverblue)

Silverblue is cool but it’s immutable and harder to customize for pentesting tools, VMs, drivers, etc.

Choose Fedora Workstation 40/41 — stable, fresh kernels, great support.

✅ 2. After installation: privacy & security hardening

These changes make Fedora a strong base OS beyond Ubuntu/Debian:

Disable Telemetry

Fedora has almost none, but you can make it cleaner:

Settings → Privacy → disable everything you don’t need

Turn off location services

Turn off diagnostics

Enable Full-Disk Encryption (LUKS)

If you didn’t encrypt during install → reinstall with LUKS
(important for traveling/on-the-go pentesters).

Use SELinux (keep it enforcing!)

Fedora’s SELinux configuration is a major security advantage.
Never disable it unless a tool truly breaks, and even then, prefer exceptions.

✅ 3. Tools to install for pentesting workflow
Virtualization / VMs

Fedora is excellent with KVM:

sudo dnf install @virtualization
sudo systemctl enable --now libvirtd


Install VMs for:

Kali Linux (main pentest environment)

Whonix Gateway + Workstation (for anonymity)

Windows VM (if you need corporate or client tools)

KVM is more secure and faster than VirtualBox.

✅ 4. Networking tools (important for pentesters)

Install extras:

sudo dnf install wireshark aircrack-ng nmap openvpn qemu-img


Fedora drivers are very modern, so USB Wi-Fi adapters work well.

✅ 5. Productivity stack (recommended)

Install dev tools:

sudo dnf groupinstall "Development Tools"
sudo dnf install git python3-pip docker docker-compose


Enable Docker:

sudo systemctl enable --now docker
sudo usermod -aG docker $USER

✅ 6. Browsing: privacy-focused setup

Best combination:

Firefox ESR or standard Firefox with privacy tweaks

Add-ons:

uBlock Origin

NoScript (optional)

Privacy Badger

Temporary Containers

HTTPS-Only Mode

For extreme anonymity:

Use Whonix workstation VM or Tor Browser, not your main host browser.

✅ 7. Compartmentalization workflow (recommended for grey-hat / pentest consultants)
Host OS (Fedora):

clean daily driver

secure

no hacking tools installed

Kali VM:

all pentesting tools

snapshots per engagement

detached from personal activities

Whonix Gateway VM (optional):

routes traffic through Tor

can chain with Kali VM for anonymity

Portable Kali USB (optional):

for hardware-level work

when you need anonymity + physical testing + Wi-Fi attacks

This gives you maximum separation.

✅ 8. Backup strategy

Use:

sudo dnf install timeshift


Or Fedora’s built-in Btrfs snapshots** if you use Btrfs on install.
Super easy rollback.
